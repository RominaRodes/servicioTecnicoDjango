{% extends "web/base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block titulo %}
Crear Repuesto
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'web/styles/crear_cliente.css' %}">
{% endblock %}

{% block main %}
<div class="container w-75 mt-3">
    <h1 class="my-4">Crear Nuevo Repuesto</h1>

    <!-- Mostrar mensajes de error globales -->
    {% if messages %}
    <div class="alert alert-danger" role="alert">
        <ul class="mb-0">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        <div class="row">
            <!-- Columna izquierda -->
            <div class="col-md-6 d-flex flex-column">
                <div class="form-floating mb-3">
                    {{ form.nombre|add_class:"form-control" }}
                    <label for="{{ form.nombre.id_for_label }}">Nombre</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.nombre.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="form-floating mb-3">
                    {{ form.categoria|add_class:"form-select" }}
                    <label for="{{ form.categoria.id_for_label }}">Categoría</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.categoria.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="form-floating mb-3">
                    {{ form.codigo|add_class:"form-control" }}
                    <label for="{{ form.codigo.id_for_label }}">Código</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.codigo.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="form-floating mb-3">
                    {{ form.ubicacion|add_class:"form-control" }}
                    <label for="{{ form.ubicacion.id_for_label }}">Ubicación</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.ubicacion.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>

            <!-- Columna derecha -->
            <div class="col-md-6 d-flex flex-column">
                <div class="form-floating mb-3">
                    {{ form.precio|add_class:"form-control" }}
                    <label for="{{ form.precio.id_for_label }}">Precio (USD)</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.precio.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>


                <div class="form-floating mb-3">
                    {{ form.costo_ultima_compra|add_class:"form-control" }}
                    <label for="{{ form.costo_ultima_compra.id_for_label }}">Costo Unitario Inicial</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.costo_ultima_compra.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                                <div class="form-floating mb-3">
                                    {{ form.stock|add_class:"form-control" }}
                                    <label for="{{ form.stock.id_for_label }}">Stock Inicial</label>
                                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                                        {% for error in form.stock.errors %}
                                        <li>{{ error }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>


                <div class="form-floating mb-3">
                    {{ form.stock_critico|add_class:"form-control" }}
                    <label for="{{ form.stock_critico.id_for_label }}">Stock Crítico</label>
                    <ul class="text-danger" style="list-style-type: none; padding: 0; margin: 0;">
                        {% for error in form.stock_critico.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div> <!-- Cierre de columna derecha -->
        </div> <!-- Cierre de row -->

        <div class="d-grid d-md-block mt-1">
            <button type="submit" class="btn btn-lg btn-formulario">Guardar</button>
            <a href="{% url 'repuestos' %}" class="btn btn-lg btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}
